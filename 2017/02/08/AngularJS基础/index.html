<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="AngularJS简介什么是AngularJS？
AngularJS是一个javaScript框架，可通过 script 标签添加到网页中它通过指令扩展了HTML，且通过表达式绑定数据到页面。

框架与类库
类库：是一些函数的集合，能够帮助你写web应用，起主导作用的是你，由你决定何时使用类库，常见类库有jquery，zepto
框架：是一种特殊的，已经实现了的web应用，你只需要对它填充具体的业">
<meta property="og:type" content="article">
<meta property="og:title" content="AngularJS基础">
<meta property="og:url" content="http://xuya.site/2017/02/08/AngularJS基础/index.html">
<meta property="og:site_name" content="Xu Ya blog">
<meta property="og:description" content="AngularJS简介什么是AngularJS？
AngularJS是一个javaScript框架，可通过 script 标签添加到网页中它通过指令扩展了HTML，且通过表达式绑定数据到页面。

框架与类库
类库：是一些函数的集合，能够帮助你写web应用，起主导作用的是你，由你决定何时使用类库，常见类库有jquery，zepto
框架：是一种特殊的，已经实现了的web应用，你只需要对它填充具体的业">
<meta property="og:updated_time" content="2017-03-06T14:38:57.274Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="AngularJS基础">
<meta name="twitter:description" content="AngularJS简介什么是AngularJS？
AngularJS是一个javaScript框架，可通过 script 标签添加到网页中它通过指令扩展了HTML，且通过表达式绑定数据到页面。

框架与类库
类库：是一些函数的集合，能够帮助你写web应用，起主导作用的是你，由你决定何时使用类库，常见类库有jquery，zepto
框架：是一种特殊的，已经实现了的web应用，你只需要对它填充具体的业">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://xuya.site/2017/02/08/AngularJS基础/"/>





  <title> AngularJS基础 | Xu Ya blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?31379905820c98af9f041ba3c2971602";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Xu Ya blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle">Xu Ya blog</p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://xuya.site/2017/02/08/AngularJS基础/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Xu Ya">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Xu Ya blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Xu Ya blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                AngularJS基础
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-08T00:13:25+08:00">
                2017-02-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AngularJS/" itemprop="url" rel="index">
                    <span itemprop="name">AngularJS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="AngularJS简介"><a href="#AngularJS简介" class="headerlink" title="AngularJS简介"></a>AngularJS简介</h1><h2 id="什么是AngularJS？"><a href="#什么是AngularJS？" class="headerlink" title="什么是AngularJS？"></a>什么是AngularJS？</h2><blockquote>
<p>AngularJS是一个javaScript框架，可通过 script 标签添加到网页中<br>它通过指令扩展了HTML，且通过表达式绑定数据到页面。</p>
</blockquote>
<h2 id="框架与类库"><a href="#框架与类库" class="headerlink" title="框架与类库"></a>框架与类库</h2><ul>
<li>类库：是一些函数的集合，能够帮助你写web应用，起主导作用的是你，由你决定何时使用类库，常见类库有jquery，zepto</li>
<li>框架：是一种特殊的，已经实现了的web应用，你只需要对它填充具体的业务逻辑，这里框架是起主导作用的，由它来根据具体的应用逻辑来调用你的代码。</li>
</ul>
<h2 id="为什么使用AngularJS？"><a href="#为什么使用AngularJS？" class="headerlink" title="为什么使用AngularJS？"></a>为什么使用AngularJS？</h2><p>为了克服HTML在构建应用上的不足而设计的，使得开发现代的单页应用程序（SPA：Single Page Applications）变得更加容易。</p>
<h2 id="AngularJS的核心特性有哪些？"><a href="#AngularJS的核心特性有哪些？" class="headerlink" title="AngularJS的核心特性有哪些？"></a>AngularJS的核心特性有哪些？</h2><ul>
<li>MVVM 双向数据绑定(Model-View-ViewModel)model变化，view也变化</li>
<li>模版 将html文件解析到DOM中</li>
<li>模块化与依赖注入</li>
<li>指令可以用来创建自定义的标签，也可以用来装饰元素或者操作DOM属性。</li>
</ul>
<h1 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h1><p>模块是应用程序中不同部分的容器。</p>
<p>你可以通过 AngularJS 的 angular.module 函数来创建模块：<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-app</span>=<span class="string">"appModule"</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">//第一个参数：模块名称</span></div><div class="line"><span class="comment">//第二个参数：模块依赖列表，如果没有，则为空数组</span></div><div class="line"><span class="keyword">var</span> app = angular.module(<span class="string">"appModule"</span>, []);</div></pre></td></tr></table></figure>
<h1 id="控制器"><a href="#控制器" class="headerlink" title="控制器"></a>控制器</h1><p>控制器的特点：</p>
<ul>
<li>1.定义一个控制器，就产生一个作用域，自带$scope参数（这个参数名是固定的不能变），表示当前作用域</li>
<li>2.子能访问父，父不能访问子</li>
<li>3.控制器和DOM是平行的</li>
<li>4.可以嵌套</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"parentCtrl"</span>&gt;</span></div><div class="line">    &#123;&#123;age&#125;&#125;<span class="comment">&lt;!--子能访问父，父不能访问子  所以这里不能输出内容--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"childCtrl"</span>&gt;</span></div><div class="line">        &#123;&#123;name&#125;&#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> app=angular.module(<span class="string">'appModule'</span>,[]);</div><div class="line">app.controller(<span class="string">'parentCtrl'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">$rootScope,$scope</span>) </span>&#123;<span class="comment">//$rootScope是根作用域,$scope是当前作用域</span></div><div class="line">    $rootScope.a=<span class="number">1</span>;</div><div class="line">    $scope.name=<span class="string">"xy"</span>;</div><div class="line">&#125;);</div><div class="line">app.controller(<span class="string">'childCtrl'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">$rootScope,$scope</span>) </span>&#123;</div><div class="line">    $scope.age=<span class="string">"123"</span>;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>使用控制器的注意事项：</p>
<ul>
<li>1.不要在控制器中操作dom,能不操作dom就不要操作dom</li>
<li>2.为了防止压缩，第二个参数一般写成数组形式</li>
</ul>
<h1 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h1><p>AngularJS 表达式写在双大括号内：。<br>AngularJS 表达式 很像 JavaScript 表达式：它们可以包含文字、运算符,变量，函数执行。<br>与 JavaScript 表达式不同，AngularJS 表达式可以写在 HTML 中。<br>与 JavaScript 表达式不同，AngularJS 表达式不支持条件判断，循环及异常。<br>与 JavaScript 表达式不同，AngularJS 表达式支持过滤器。</p>
<p>双花括号支持的表达式：</p>
<ul>
<li><p>赋值运算</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">&#123;&#123;name=<span class="number">1</span>&#125;&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>简单运算</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">&#123;&#123;<span class="number">2</span>*<span class="number">3</span>&#125;&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>三元运算</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">&#123;&#123;name?name:<span class="string">'没有值'</span>&#125;&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h1><h2 id="内置的ng指令"><a href="#内置的ng指令" class="headerlink" title="内置的ng指令"></a>内置的ng指令</h2><h3 id="ng-app"><a href="#ng-app" class="headerlink" title="ng-app"></a>ng-app</h3><p>指定angular应用程序的控制范围,产生$rootScope根作用域<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">ng-app</span>=<span class="string">'appModule'</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="ng-controller"><a href="#ng-controller" class="headerlink" title="ng-controller"></a>ng-controller</h3><p>指定控制器的范围<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"appCtrl"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="ng-bind-ng-bind-template-ng-bind-html"><a href="#ng-bind-ng-bind-template-ng-bind-html" class="headerlink" title="ng-bind/ng-bind-template/ng-bind-html"></a>ng-bind/ng-bind-template/ng-bind-html</h3><p>绑定数据<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 双花括号绑定数据 --&gt;</span></div><div class="line">&#123;&#123;name&#125;&#125;</div><div class="line"><span class="comment">&lt;!-- 绑定一个变量 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind</span>=<span class="string">'name'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 绑定多个变量 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind-template</span>=<span class="string">'&#123;&#123;name&#125;&#125;&#123;&#123;age&#125;&#125;'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 绑定html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-bind-html</span>=<span class="string">'h1'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> app=angular.module(<span class="string">'appModule'</span>,[]);</div><div class="line">app.controller(<span class="string">'appCtrl'</span>,[<span class="string">'$scope'</span>,<span class="string">'$sce'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope,$sce</span>)</span>&#123;</div><div class="line">    $scope.name=<span class="string">'xy'</span>;</div><div class="line">    $scope.age=<span class="number">26</span>;</div><div class="line">    $scope.h1=$sce.trustAsHtml(<span class="string">'&lt;h1&gt;欢迎来到书城！&lt;/h1&gt;'</span>);</div><div class="line">&#125;]);</div></pre></td></tr></table></figure>
<h3 id="ng-cloak"><a href="#ng-cloak" class="headerlink" title="ng-cloak"></a>ng-cloak</h3><p>页面加载时防止应用闪烁<br><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-attr">[ng-cloak]</span>&#123;</div><div class="line">    <span class="attribute">display</span>:none;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-cloak</span>&gt;</span></div><div class="line">...</div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="ng-init"><a href="#ng-init" class="headerlink" title="ng-init"></a>ng-init</h3><p>初始化数据<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"appCtrl"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-init</span>=<span class="string">"&#123;name=xy;age=26&#125;"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>一般我们不这样初始化，直接到控制器中初始化<br><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> app=angular.module(<span class="string">'appModule'</span>,[]);</div><div class="line">app.controller(<span class="string">'appCtrl'</span>,[<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">    $scope.name=<span class="string">'xy'</span>;</div><div class="line">    $scope.age=<span class="number">26</span>;</div><div class="line">&#125;]);</div></pre></td></tr></table></figure></p>
<h3 id="ng-repeat"><a href="#ng-repeat" class="headerlink" title="ng-repeat"></a>ng-repeat</h3><p>遍历数组或者对象<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"value in arr track by $index"</span>&gt;</span></div><div class="line">        &#123;&#123;value&#125;&#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"(key,book) in books"</span>&gt;</span></div><div class="line">        &#123;&#123;key&#125;&#125;  &#123;&#123;book.name&#125;&#125;</div><div class="line">        &#123;&#123;key&#125;&#125;  &#123;&#123;book.price&#125;&#125;</div><div class="line">        <span class="comment">&lt;!-- &#123;&#123;odd&#125;&#125; 奇数项 --&gt;</span></div><div class="line">        <span class="comment">&lt;!-- &#123;&#123;even&#125;&#125; 偶数项 --&gt;</span></div><div class="line">        <span class="comment">&lt;!-- &#123;&#123;first&#125;&#125; 是否是第一项(布尔值) --&gt;</span></div><div class="line">        <span class="comment">&lt;!-- &#123;&#123;last&#125;&#125; 是否是最后一项(布尔值) --&gt;</span></div><div class="line">        <span class="comment">&lt;!-- &#123;&#123;middle&#125;&#125; 是否是中间项(布尔值) --&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> app=angular.module(<span class="string">'appModule'</span>,[]);</div><div class="line">app.controller(<span class="string">'myCtrl'</span>,[<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">    $scope.arr=[<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line">    $scope.books=[</div><div class="line">        &#123;<span class="attr">name</span>:<span class="string">'angular教程'</span>,<span class="attr">price</span>:<span class="number">30</span>,<span class="attr">id</span>:<span class="number">1</span>&#125;,</div><div class="line">        &#123;<span class="attr">name</span>:<span class="string">'node教程'</span>,<span class="attr">price</span>:<span class="number">60</span>,<span class="attr">id</span>:<span class="number">2</span>&#125;,</div><div class="line">        &#123;<span class="attr">name</span>:<span class="string">'vue教程'</span>,<span class="attr">price</span>:<span class="number">50</span>,<span class="attr">id</span>:<span class="number">3</span>&#125;</div><div class="line">    ];</div><div class="line">&#125;]);</div></pre></td></tr></table></figure>
<p>注意：<br>track by $index：解决重复数据遍历的错误</p>
<ul>
<li>1&gt;.用ng-repeat指令遍历一个javascript数组，当数组中有重复元素的时候,AngularJS会报错,这是因为ng-Repeat不允许collection中存在两个相同Id的对象。</li>
<li>2&gt;.如果是javascript对象类型数据，那么就算内容一摸一样，ng-repeat也不会认为这是相同的对象。</li>
</ul>
<h3 id="ng-class"><a href="#ng-class" class="headerlink" title="ng-class"></a>ng-class</h3><p>给html元素动态绑定一个或多个类<br><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.red</span>&#123; <span class="attribute">background</span>: red; <span class="attribute">color</span>: <span class="number">#fff</span>;&#125;</div><div class="line"><span class="selector-class">.bg1</span>&#123; <span class="attribute">background</span>: black;&#125;</div><div class="line"><span class="selector-class">.bg2</span>&#123; <span class="attribute">background</span>: purple;&#125;</div><div class="line"><span class="selector-class">.bg3</span>&#123; <span class="attribute">background</span>: lightgreen;&#125;</div><div class="line"><span class="selector-class">.size</span>&#123; <span class="attribute">font-size</span>: <span class="number">60px</span>;&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!--1、根据flag判断用哪个class--&gt;</span></div><div class="line"><span class="comment">&lt;!--class 和ng-class不冲突 动态的永远比静态的优先级高--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"red"</span> <span class="attr">ng-class</span>=<span class="string">"&#123;true:'bg1',false:'bg2'&#125;[flag]"</span>&gt;</span>根据flag判断用哪个class<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!--2、根据属性值判断是否生效--&gt;</span></div><div class="line"><span class="comment">&lt;!--ng-style比ng-class优先级高--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"red"</span> <span class="attr">ng-class</span>=<span class="string">"&#123;bg3:true,size:true&#125;"</span> <span class="attr">ng-style</span>=<span class="string">"&#123;background:'lightblue',fontSize:'100px'&#125;"</span>&gt;</span>根据属性值判断是否生效<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> app=angular.module(<span class="string">'appModule'</span>,[]);</div><div class="line">app.controller(<span class="string">'myCtrl'</span>,[<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">    $scope.flag=<span class="literal">true</span>;</div><div class="line">&#125;]);</div></pre></td></tr></table></figure>
<h3 id="ng-show-ng-hide-ng-if"><a href="#ng-show-ng-hide-ng-if" class="headerlink" title="ng-show/ng-hide/ng-if"></a>ng-show/ng-hide/ng-if</h3><ul>
<li>ng-show 在表达式为true时显示</li>
<li>ng-hide 在表达式为true时隐藏</li>
<li>ng-if 在表达式为 false 时移除 HTML 元素，表达式为true时添加HTML元素</li>
</ul>
<h3 id="ng-src"><a href="#ng-src" class="headerlink" title="ng-src"></a>ng-src</h3><p>添加图片地址</p>
<h3 id="ng-options与ng-repeat"><a href="#ng-options与ng-repeat" class="headerlink" title="ng-options与ng-repeat"></a>ng-options与ng-repeat</h3><p>ng-repeat 指令是通过数组来循环 HTML 代码来创建下拉列表<br>ng-options 指令更适合创建下拉列表，它有以下优势：</p>
<ul>
<li>使用 ng-options 的选项的一个对象</li>
<li>ng-repeat 是一个字符串。</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 使用ng-repeat --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">ng-model</span>=<span class="string">"selectedSite"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">option</span> <span class="attr">ng-repeat</span>=<span class="string">"x in sites"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;x.url&#125;&#125;"</span>&gt;</span>&#123;&#123;x.site&#125;&#125;<span class="tag">&lt;/<span class="name">option</span>&gt;</span><span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>你选择的是: &#123;&#123;selectedSite&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 使用ng-options --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">ng-model</span>=<span class="string">"selectedSite"</span> <span class="attr">ng-options</span>=<span class="string">"x.site for x in sites"</span>&gt;</span><span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>你选择的是: &#123;&#123;selectedSite.site&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>网址为: &#123;&#123;selectedSite.url&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> app = angular.module(<span class="string">'myApp'</span>, []);</div><div class="line">app.controller(<span class="string">'myCtrl'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</div><div class="line">   $scope.sites = [</div><div class="line">	    &#123;<span class="attr">site</span> : <span class="string">"Google"</span>, <span class="attr">url</span> : <span class="string">"http://www.google.com"</span>&#125;,</div><div class="line">	    &#123;<span class="attr">site</span> : <span class="string">"Runoob"</span>, <span class="attr">url</span> : <span class="string">"http://www.runoob.com"</span>&#125;,</div><div class="line">	    &#123;<span class="attr">site</span> : <span class="string">"Taobao"</span>, <span class="attr">url</span> : <span class="string">"http://www.taobao.com"</span>&#125;</div><div class="line">	];</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h2><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!--指令的四种使用方法--&gt;</span></div><div class="line">标签：<span class="tag">&lt;<span class="name">app-dir</span> <span class="attr">n</span>=<span class="string">"&#123;&#123;name&#125;&#125;"</span>&gt;</span>标签形式展现<span class="tag">&lt;/<span class="name">app-dir</span>&gt;</span></div><div class="line">属性：<span class="tag">&lt;<span class="name">div</span> <span class="attr">app-dir</span> <span class="attr">a</span>=<span class="string">"age"</span>&gt;</span>属性形式展现<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">注释：<span class="comment">&lt;!-- directive:app-dir --&gt;</span><span class="comment">&lt;!--注释前后必须有空格，否则不显示--&gt;</span></div><div class="line">样式名：<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"app-dir"</span> <span class="attr">fn</span>=<span class="string">"say(text)"</span>&gt;</span>样式名形式展现<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> app=angular.module(<span class="string">'appModule'</span>,[]);</div><div class="line"></div><div class="line"><span class="comment">//angular初始化完成后就有$rootScope,可以在这里声明全局变量</span></div><div class="line">app.run(<span class="function"><span class="keyword">function</span> (<span class="params">$rootScope</span>) </span>&#123;</div><div class="line">    $rootScope.name=<span class="string">'xy'</span>;</div><div class="line">    $rootScope.age=<span class="number">123</span>;</div><div class="line">    $rootScope.say=<span class="function"><span class="keyword">function</span>(<span class="params">text</span>)</span>&#123;</div><div class="line">        alert(text);</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">//指令名称如果是驼峰式命名，使用时先转化为小写，然后在第二个单词前面加"-"</span></div><div class="line">app.directive(<span class="string">'appDir'</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">require</span>:<span class="string">'xxx'</span>,<span class="comment">//要交互的指令</span></div><div class="line">        replace:<span class="literal">true</span>,<span class="comment">//是否替换掉指令所在容器本身，默认不替换，当值为true时，模板的顶级元素只能有一个</span></div><div class="line">        template:<span class="string">'&lt;div ng-click='</span>fn(&#123;<span class="attr">text</span>:name&#125;)<span class="string">'&gt;&lt;b ng-transclude&gt;&lt;/b&gt;我是指令&lt;/div&gt;'</span>,<span class="comment">//指令模板</span></div><div class="line">        <span class="comment">//templateUrl:'panel.html',//使用模板地址</span></div><div class="line">        restrict:<span class="string">'EAMC'</span>,<span class="comment">//==&gt;element attribute  comment  class 指令的显示形式，默认显示EA</span></div><div class="line">        transclude:<span class="literal">true</span>,<span class="comment">//保留指令容器里面的内容，并且通过ng-transclude显示位置</span></div><div class="line">        <span class="comment">//scope:true,//产生独立作用域，但是能获取到父级变量</span></div><div class="line">        scope:&#123;<span class="comment">//产生独立的作用域，与父级断绝关系</span></div><div class="line">            <span class="comment">//也就是说写一个指令，就产生一个独立的作用域</span></div><div class="line">            <span class="comment">//如果要使用父级的变量，需要一个中间人，这个中间人可以是"@" "=" "&amp;"这三个符号</span></div><div class="line">            name:<span class="string">"@n"</span>,<span class="comment">//@传递的是字符串类型的，如果@后面和scope属性名一样，可以省略不写</span></div><div class="line">            age:<span class="string">"=a"</span>,<span class="comment">//=传递的是变量</span></div><div class="line">            say:<span class="string">"&amp;fn"</span><span class="comment">//&amp;传递的是函数</span></div><div class="line">        &#125;,</div><div class="line">        <span class="comment">//link函数：用来链接作用域和DOM视图，在插入指令时执行</span></div><div class="line">        link:<span class="function"><span class="keyword">function</span>(<span class="params">scope,element,attrs,xxxCtrl</span>)</span>&#123;</div><div class="line">            <span class="comment">//scope  当前指令所在作用域</span></div><div class="line">            <span class="comment">//element  当前指令所在元素  是个JQ对象</span></div><div class="line">            <span class="comment">//attrs  当前指令所在元素的属性集合</span></div><div class="line">            <span class="comment">//xxxCtrl  依赖于xxx的控制器注入进来的  当这个link执行时，会调用xxx的link函数</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="指令之间的交互"><a href="#指令之间的交互" class="headerlink" title="指令之间的交互"></a>指令之间的交互</h2><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 需求：点击girl，输出love-shopping，love-cry --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">girl</span> <span class="attr">love-shopping</span> <span class="attr">love-cry</span>&gt;</span>女孩<span class="tag">&lt;/<span class="name">girl</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> app = angular.module(<span class="string">'appModule'</span>,[]);</div><div class="line">app.directive(<span class="string">'girl'</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">controller</span>:<span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;<span class="comment">//$scope代表当前girl的作用域</span></div><div class="line">            $scope.arr = [];<span class="comment">//父亲用一个容器来存储传进来的内容</span></div><div class="line">            <span class="keyword">this</span>.add = <span class="function"><span class="keyword">function</span> (<span class="params">kind</span>) </span>&#123; <span class="comment">//在控制器上增加一个add方法</span></div><div class="line">                $scope.arr.push(kind);</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">link</span>:<span class="function"><span class="keyword">function</span> (<span class="params">scope,element,attrs</span>) </span>&#123;</div><div class="line">            element.on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                <span class="built_in">console</span>.log(scope.arr);</div><div class="line">            &#125;);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line">app.directive(<span class="string">'loveCry'</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">require</span>:<span class="string">'girl'</span>,</div><div class="line">        <span class="comment">//第四个参数是依赖于girl的控制器实例化后注入进来的</span></div><div class="line">        link:<span class="function"><span class="keyword">function</span> (<span class="params">scope,element,attrs,girlCtrl</span>) </span>&#123; <span class="comment">//当指令执行时会调用link函数</span></div><div class="line">            girlCtrl.add(<span class="string">'loveCry'</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line">app.directive(<span class="string">'loveShopping'</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">require</span>:<span class="string">'girl'</span>,</div><div class="line">        <span class="attr">link</span>:<span class="function"><span class="keyword">function</span> (<span class="params">scope,element,attrs,girlCtrl</span>) </span>&#123;</div><div class="line">            girlCtrl.add(<span class="string">'loveShopping'</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h1 id="AngularJS事件"><a href="#AngularJS事件" class="headerlink" title="AngularJS事件"></a>AngularJS事件</h1><p>AngularJS 支持以下事件:</p>
<ul>
<li>ng-click</li>
<li>ng-dbl-click</li>
<li>ng-mousedown</li>
<li>ng-mouseenter</li>
<li>ng-mouseleave</li>
<li>ng-mousemove</li>
<li>ng-keydown</li>
<li>ng-keyup</li>
<li>ng-keypress</li>
<li>ng-change</li>
</ul>
<p>ng-click实例：<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">ng-click</span>=<span class="string">"fn($event)"</span>&gt;</span>老谭酸菜<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">ng-click</span>=<span class="string">"fn($event)"</span>&gt;</span>康师傅<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> app=angular.module(<span class="string">'appModule'</span>,[]);</div><div class="line">app.controller(<span class="string">'myCtrl'</span>,[<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">    $scope.fn=<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">        alert(e.target.innerHTML)</div><div class="line">    &#125;</div><div class="line">&#125;]);</div></pre></td></tr></table></figure>
<h1 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h1><h2 id="内置过滤器"><a href="#内置过滤器" class="headerlink" title="内置过滤器"></a>内置过滤器</h2><p>过滤器可以使用一个管道字符（|）添加到表达式和指令中。</p>
<h3 id="uppercase-lowercase"><a href="#uppercase-lowercase" class="headerlink" title="uppercase/lowercase"></a>uppercase/lowercase</h3><p>格式化为大写/小写<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line">&#123;&#123;'aBcD'|uppercase&#125;&#125;</div><div class="line">&#123;&#123;'aBcD'|lowercase&#125;&#125;</div></pre></td></tr></table></figure></p>
<h3 id="currency"><a href="#currency" class="headerlink" title="currency"></a>currency</h3><p>格式化为货币形式<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line">&#123;&#123;100|currency&#125;&#125;</div></pre></td></tr></table></figure></p>
<h3 id="date"><a href="#date" class="headerlink" title="date"></a>date</h3><p>格式化时间<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line">&#123;&#123;1486267313587|date:'yy年mm月dd日 hh:mm:ss'&#125;&#125;</div></pre></td></tr></table></figure></p>
<h3 id="limitTo"><a href="#limitTo" class="headerlink" title="limitTo"></a>limitTo</h3><p>对象的截取<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line">&#123;&#123;'afdsafds'|limitTo:5&#125;&#125;</div></pre></td></tr></table></figure></p>
<h3 id="number"><a href="#number" class="headerlink" title="number"></a>number</h3><p>将数字格式化为千分符形式，并设置保留几位小数：<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line">&#123;&#123;341321|number:5&#125;&#125;</div></pre></td></tr></table></figure></p>
<h3 id="json"><a href="#json" class="headerlink" title="json"></a>json</h3><p>将json对象格式化为json字符串<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line">&#123;&#123;&#123;name:'xy',age:123&#125;|json&#125;&#125;</div></pre></td></tr></table></figure></p>
<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><p>查询过滤器<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; [&#123;name:'张三',age:12&#125;,&#123;name:'李四',age:23&#125;] | filter:&#123;name:'张三'&#125; &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; [&#123;name:'张三',age:12&#125;,&#123;name:'李四',age:23&#125;] | filter:2 &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="orderBy"><a href="#orderBy" class="headerlink" title="orderBy"></a>orderBy</h3><p>排序  true是降序，false是升序,默认是false<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line">&#123;&#123; [&#123;name:'张三',age:12,score:123&#125;,&#123;name:'李四',age:23,score:78&#125;] | orderBy:"score":false&#125;&#125;</div></pre></td></tr></table></figure></p>
<h2 id="自定义过滤器"><a href="#自定义过滤器" class="headerlink" title="自定义过滤器"></a>自定义过滤器</h2><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;150|mycurrency:'$':'*'&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">app.filter(<span class="string">'mycurrency'</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">data,param1,param2</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> param1==<span class="string">"undefined"</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="string">'xy'</span>+data;</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">return</span> param1+data+param2;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="watch-apply"><a href="#watch-apply" class="headerlink" title="watch/apply"></a>watch/apply</h1><p>ng-model原理：用watch监控数据，如果数据发生变化 用apply去改变视图</p>
<h2 id="watch-监控数据"><a href="#watch-监控数据" class="headerlink" title="watch 监控数据"></a>watch 监控数据</h2><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"count"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">单价 &#123;&#123;price&#125;&#125; <span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">邮费 &#123;&#123;post&#125;&#125; <span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">总价 &#123;&#123;total()+post&#125;&#125; <span class="tag">&lt;<span class="name">br</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">&lt;!--需求：满百包邮 即满<span class="number">100</span>邮费变为<span class="number">0</span>--&gt;</div><div class="line"><span class="keyword">var</span> app = angular.module(<span class="string">'appModule'</span>,[]);</div><div class="line">app.controller(<span class="string">'myCtrl'</span>,[<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">$scope</span>) </span>&#123;</div><div class="line">    $scope.count = <span class="number">10</span>;</div><div class="line">    $scope.price = <span class="number">20</span>;</div><div class="line">    $scope.post = <span class="number">8</span>;</div><div class="line">    $scope.total = <span class="function"><span class="keyword">function</span> <span class="title">total</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span>  $scope.count*$scope.price</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//监控总价执行后的结果，如果结果变化会传递一个newVal</span></div><div class="line">    $scope.$watch($scope.total,<span class="function"><span class="keyword">function</span> (<span class="params">newVal,oldVal</span>) </span>&#123;</div><div class="line">        <span class="comment">//当总价大于100 则让邮费为0</span></div><div class="line">        $scope.post = newVal&gt;=<span class="number">100</span>?<span class="number">0</span>:<span class="number">8</span></div><div class="line">    &#125;);</div><div class="line">&#125;])</div></pre></td></tr></table></figure>
<h2 id="apply刷新视图"><a href="#apply刷新视图" class="headerlink" title="apply刷新视图"></a>apply刷新视图</h2><p>数据变化但是视图未刷新，要通知angular去更新视图<br>angular自带的指令（服务）都可以自动调用$apply方法<br><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> app = angular.module(<span class="string">'appModule'</span>, []);</div><div class="line"><span class="comment">//watch + apply = ng-model;</span></div><div class="line">app.controller(<span class="string">'myCtrl'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope,$interval,$timeout</span>) </span>&#123;</div><div class="line">    $scope.aa = <span class="number">100</span>;</div><div class="line">    <span class="comment">//数据变化但是视图未刷新，要通知angular去更新视图</span></div><div class="line">    <span class="comment">//angular自带的指令（服务）都可以自动调用$apply方法</span></div><div class="line">    <span class="keyword">var</span> timer = $timeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        $scope.aa++;</div><div class="line">        <span class="comment">//$scope.$apply();</span></div><div class="line">    &#125;, <span class="number">1000</span>);</div><div class="line">    $timeout.cancel(timer);</div><div class="line">    <span class="comment">//$interval.cancel(timer);</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h1 id="jsonp"><a href="#jsonp" class="headerlink" title="jsonp"></a>jsonp</h1><p>$http服务上的jsonp方法    $sce上的trustAsResourceUrl<br><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> app = angular.module(<span class="string">'appModule'</span>, []);</div><div class="line">app.controller(<span class="string">'myCtrl'</span>, [<span class="string">'$scope'</span>, <span class="string">'$http'</span>, <span class="string">'$sce'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope, $http, $sce</span>) </span>&#123;</div><div class="line">    $http.jsonp(</div><div class="line">        $sce.trustAsResourceUrl(<span class="string">'https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd='</span> + $scope.query),&#123;<span class="attr">jsonpCallbackParam</span>: <span class="string">'cb'</span>&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123; <span class="comment">//成功的回调</span></div><div class="line">        ...</div><div class="line">    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h1 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h1><p>什么是服务？</p>
<blockquote>
<p>在 AngularJS 中，服务是一个函数或对象，可在你的 AngularJS 应用中使用。</p>
</blockquote>
<h2 id="内置服务"><a href="#内置服务" class="headerlink" title="内置服务"></a>内置服务</h2><p>AngularJS 内建了30 多个服务。下面主要说说常用的几个内置服务</p>
<h3 id="http"><a href="#http" class="headerlink" title="$http"></a>$http</h3><p>$http 是一个用于读取web服务器上数据的服务。</p>
<h3 id="sec"><a href="#sec" class="headerlink" title="$sec"></a>$sec</h3><p>SCE，即strict contextual escaping,我的理解是 严格的上下文隔离<br>通过$sce服务把一些地址变成安全的、授权的链接…简单地说，就像告诉门卫，这个陌生人其实是我的好朋友，很值得信赖，不必拦截它！</p>
<p>$sce常用的方法有：</p>
<ul>
<li>$sce.trustAs(type,name);</li>
<li>$sce.trustAsHtml(value);</li>
<li>$sce.trustAsUrl(value);</li>
<li>$sce.trustAsResourceUrl(value);</li>
<li>$sce.trustAsJs(value);</li>
</ul>
<h3 id="location"><a href="#location" class="headerlink" title="$location"></a>$location</h3><p>$location 服务，它可以返回当前页面的 URL 地址。<br>它可以使用 DOM 中存在的对象，类似 window.location 对象，但 window.location 对象在 AngularJS 应用中有一定的局限性。<br><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">app.controller(<span class="string">'myCtrl'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope, $location</span>) </span>&#123;</div><div class="line">    $scope.back=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        $location.path(<span class="string">'/'</span>);<span class="comment">//跳转到首页</span></div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h3 id="timeout"><a href="#timeout" class="headerlink" title="$timeout"></a>$timeout</h3><p>AngularJS $timeout 服务对应了 JS window.setTimeout 函数。<br><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">app.controller(<span class="string">'myCtrl'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope, $timeout</span>) </span>&#123;</div><div class="line">    $scope.myHeader = <span class="string">"Hello World!"</span>;</div><div class="line">    $timeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        $scope.myHeader = <span class="string">"How are you today?"</span>;</div><div class="line">    &#125;, <span class="number">2000</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h3 id="interval"><a href="#interval" class="headerlink" title="$interval"></a>$interval</h3><p>AngularJS $interval 服务对应了 JS window.setInterval 函数。</p>
<h2 id="自定义服务"><a href="#自定义服务" class="headerlink" title="自定义服务"></a>自定义服务</h2><h3 id="provider"><a href="#provider" class="headerlink" title="provider"></a>provider</h3><ul>
<li>provider 最大的服务，并且可以配置<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">app.config(<span class="function"><span class="keyword">function</span>(<span class="params">MyProvider</span>)</span>&#123;</div><div class="line">    MyProvider.aa = <span class="number">200</span>;</div><div class="line">&#125;)</div><div class="line">app.provider(<span class="string">'My'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.aa = <span class="number">100</span>;</div><div class="line">    <span class="keyword">this</span>.$get = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;<span class="attr">name</span>:<span class="number">1</span>&#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="factory"><a href="#factory" class="headerlink" title="factory"></a>factory</h3><ul>
<li>factory 声明后是一个$get函数<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">app.factory(<span class="string">'My'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;<span class="attr">name</span>:<span class="number">1</span>,<span class="attr">age</span>:<span class="number">8</span>&#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="service"><a href="#service" class="headerlink" title="service"></a>service</h3><ul>
<li>service 是factory返回值的构造函数<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">app.service(<span class="string">'My'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = <span class="number">1</span>;</div><div class="line">    <span class="keyword">this</span>.age= <span class="number">9</span>;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="value"><a href="#value" class="headerlink" title="value"></a>value</h3><ul>
<li>value 是factory返回的值<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">app.value(<span class="string">'My'</span>,&#123;<span class="attr">name</span>:<span class="number">1</span>,<span class="attr">age</span>:<span class="number">8</span>&#125;)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="constant"><a href="#constant" class="headerlink" title="constant"></a>constant</h3><p>constant同value用法</p>
<h1 id="依赖注入"><a href="#依赖注入" class="headerlink" title="依赖注入"></a>依赖注入</h1><p>什么是依赖注入？</p>
<blockquote>
<p>依赖注入（Dependency Injection，简称DI）是一种软件设计模式，在这种模式下，一个或更多的依赖（或服务）被注入（或者通过引用传递）到一个独立的对象（或客户端）中，然后成为了该客户端状态的一部分。</p>
<p>一句话 — 没事你不要来找我，有事我会去找你。</p>
</blockquote>
<p>AngularJS 提供很好的依赖注入机制。以下5个核心组件用来作为依赖注入：</p>
<ul>
<li>value</li>
<li>factory</li>
<li>service</li>
<li>provider</li>
<li>constant</li>
</ul>
<p>API参考：<a href="http://www.runoob.com/AngularJS/AngularJS-reference.html" target="_blank" rel="external">http://www.runoob.com/AngularJS/AngularJS-reference.html</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/02/03/Babel入门教程/" rel="next" title="Babel入门教程">
                <i class="fa fa-chevron-left"></i> Babel入门教程
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/02/11/LESS语法/" rel="prev" title="LESS语法">
                LESS语法 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.png"
               alt="Xu Ya" />
          <p class="site-author-name" itemprop="name">Xu Ya</p>
          <p class="site-description motion-element" itemprop="description">分享前端技术</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">50</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#AngularJS简介"><span class="nav-number">1.</span> <span class="nav-text">AngularJS简介</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#什么是AngularJS？"><span class="nav-number">1.1.</span> <span class="nav-text">什么是AngularJS？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#框架与类库"><span class="nav-number">1.2.</span> <span class="nav-text">框架与类库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#为什么使用AngularJS？"><span class="nav-number">1.3.</span> <span class="nav-text">为什么使用AngularJS？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AngularJS的核心特性有哪些？"><span class="nav-number">1.4.</span> <span class="nav-text">AngularJS的核心特性有哪些？</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#模块"><span class="nav-number">2.</span> <span class="nav-text">模块</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#控制器"><span class="nav-number">3.</span> <span class="nav-text">控制器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#表达式"><span class="nav-number">4.</span> <span class="nav-text">表达式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#指令"><span class="nav-number">5.</span> <span class="nav-text">指令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#内置的ng指令"><span class="nav-number">5.1.</span> <span class="nav-text">内置的ng指令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ng-app"><span class="nav-number">5.1.1.</span> <span class="nav-text">ng-app</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ng-controller"><span class="nav-number">5.1.2.</span> <span class="nav-text">ng-controller</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ng-bind-ng-bind-template-ng-bind-html"><span class="nav-number">5.1.3.</span> <span class="nav-text">ng-bind/ng-bind-template/ng-bind-html</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ng-cloak"><span class="nav-number">5.1.4.</span> <span class="nav-text">ng-cloak</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ng-init"><span class="nav-number">5.1.5.</span> <span class="nav-text">ng-init</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ng-repeat"><span class="nav-number">5.1.6.</span> <span class="nav-text">ng-repeat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ng-class"><span class="nav-number">5.1.7.</span> <span class="nav-text">ng-class</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ng-show-ng-hide-ng-if"><span class="nav-number">5.1.8.</span> <span class="nav-text">ng-show/ng-hide/ng-if</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ng-src"><span class="nav-number">5.1.9.</span> <span class="nav-text">ng-src</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ng-options与ng-repeat"><span class="nav-number">5.1.10.</span> <span class="nav-text">ng-options与ng-repeat</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自定义指令"><span class="nav-number">5.2.</span> <span class="nav-text">自定义指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#指令之间的交互"><span class="nav-number">5.3.</span> <span class="nav-text">指令之间的交互</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#AngularJS事件"><span class="nav-number">6.</span> <span class="nav-text">AngularJS事件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#过滤器"><span class="nav-number">7.</span> <span class="nav-text">过滤器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#内置过滤器"><span class="nav-number">7.1.</span> <span class="nav-text">内置过滤器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#uppercase-lowercase"><span class="nav-number">7.1.1.</span> <span class="nav-text">uppercase/lowercase</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#currency"><span class="nav-number">7.1.2.</span> <span class="nav-text">currency</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#date"><span class="nav-number">7.1.3.</span> <span class="nav-text">date</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#limitTo"><span class="nav-number">7.1.4.</span> <span class="nav-text">limitTo</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#number"><span class="nav-number">7.1.5.</span> <span class="nav-text">number</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#json"><span class="nav-number">7.1.6.</span> <span class="nav-text">json</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#filter"><span class="nav-number">7.1.7.</span> <span class="nav-text">filter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#orderBy"><span class="nav-number">7.1.8.</span> <span class="nav-text">orderBy</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自定义过滤器"><span class="nav-number">7.2.</span> <span class="nav-text">自定义过滤器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#watch-apply"><span class="nav-number">8.</span> <span class="nav-text">watch/apply</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#watch-监控数据"><span class="nav-number">8.1.</span> <span class="nav-text">watch 监控数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#apply刷新视图"><span class="nav-number">8.2.</span> <span class="nav-text">apply刷新视图</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#jsonp"><span class="nav-number">9.</span> <span class="nav-text">jsonp</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#服务"><span class="nav-number">10.</span> <span class="nav-text">服务</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#内置服务"><span class="nav-number">10.1.</span> <span class="nav-text">内置服务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#http"><span class="nav-number">10.1.1.</span> <span class="nav-text">$http</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sec"><span class="nav-number">10.1.2.</span> <span class="nav-text">$sec</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#location"><span class="nav-number">10.1.3.</span> <span class="nav-text">$location</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#timeout"><span class="nav-number">10.1.4.</span> <span class="nav-text">$timeout</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#interval"><span class="nav-number">10.1.5.</span> <span class="nav-text">$interval</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自定义服务"><span class="nav-number">10.2.</span> <span class="nav-text">自定义服务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#provider"><span class="nav-number">10.2.1.</span> <span class="nav-text">provider</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#factory"><span class="nav-number">10.2.2.</span> <span class="nav-text">factory</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#service"><span class="nav-number">10.2.3.</span> <span class="nav-text">service</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#value"><span class="nav-number">10.2.4.</span> <span class="nav-text">value</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#constant"><span class="nav-number">10.2.5.</span> <span class="nav-text">constant</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#依赖注入"><span class="nav-number">11.</span> <span class="nav-text">依赖注入</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xu Ya</span>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  

  
      <!-- UY BEGIN -->
      <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid="></script>
      <!-- UY END -->
  




  
  

  

  

  

  


</body>
</html>
